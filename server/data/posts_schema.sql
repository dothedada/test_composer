CREATE TABLE IF NOT EXISTS users (
	id SERIAL PRIMARY KEY,
	username VARCHAR(255) UNIQUE NOT NULL,
	created_at DATE DEFAULT CURRENT_DATE NOT NULL,
	last_loggin DATE DEFAULT CURRENT_DATE NOT NULL
);

CREATE TABLE IF NOT EXISTS user_posts (
	id SERIAL PRIMARY KEY,
	user_id INTEGER NOT NULL,
	post_date DATE DEFAULT CURRENT_DATE NOT NULL,
	post_text TEXT NOT NULL,
	post_color TEXT NOT NULL,
	CONSTRAINT fk_user_id
	FOREIGN KEY (user_id)
	REFERENCES users(id)
	ON DELETE CASCADE,
	CONSTRAINT unique_user_post_per_day
	UNIQUE (user_id, date)
);
